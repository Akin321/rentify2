<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Signup</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    		
<!-- jQuery (required by Toastr) -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<!-- Toastr CSS -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css" rel="stylesheet" />

<!-- Toastr JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
</head>
<body>

<div class="container mt-5">

    <h2 class="mb-4">Sign Up</h2>
    <form th:action="@{/user/signup}" method="post"  th:object="${userdto}" novalidate>
<div class="mb-3">
    <label for="name" class="form-label">Full Name</label>
    <input type="text" class="form-control"
           id="name"
           th:field="*{name}"
           th:classappend="${#fields.hasErrors('name')} ? ' is-invalid' : ''"
           placeholder="Enter your full name">
    <div class="invalid-feedback" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></div>
</div>

<div class="mb-3">
    <label for="email" class="form-label">Email address</label>
    <input type="email" class="form-control"
           id="email"
           th:field="*{email}"
           th:classappend="${#fields.hasErrors('email')} ? ' is-invalid' : ''"
           placeholder="Enter email">
    <div class="invalid-feedback" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></div>
</div>

<div class="mb-3">
    <label for="gender" class="form-label">Gender</label>
    <select class="form-select"
            th:field="*{gender}"
            th:classappend="${#fields.hasErrors('gender')} ? ' is-invalid' : ''"
            id="gender">
        <option value="">Select Gender</option>
        <option value="Male">Male</option>
        <option value="Female">Female</option>
    </select>
    <div class="invalid-feedback" th:if="${#fields.hasErrors('gender')}" th:errors="*{gender}"></div>
</div>

<div class="mb-3">
    <label for="password" class="form-label">Password</label>
    <input type="password" class="form-control"
           id="password"
           th:field="*{password}"
           th:classappend="${#fields.hasErrors('password')} ? ' is-invalid' : ''"
           placeholder="Password">
    <div class="invalid-feedback" th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></div>
</div>

<div class="mb-3">
    <label for="cpassword" class="form-label">Confirm Password</label>
    <input type="password" class="form-control"
           id="cpassword"
           name="cpassword"
           th:classappend="${#fields.hasErrors('password')} ? ' is-invalid' : ''"
           placeholder="Confirm Password">
    <div class="invalid-feedback" th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></div>
</div>

<div class="mb-3">
    <label for="phone" class="form-label">Phone Number</label>
    <input type="text" class="form-control"
           id="phone"
           th:field="*{phone}"
           th:classappend="${#fields.hasErrors('phone')} ? ' is-invalid' : ''"
           placeholder="Enter phone number">
    <div class="invalid-feedback" th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}"></div>
</div>
	<input type="hidden" name="refToken" th:value="${refToken}" />
	
		<div class="d-flex gap-3">
		        <button type="submit" class="btn btn-primary">Sign Up</button>
        <a href="/user/login" class="btn btn-dark">Login</a>
		</div>

    </form>
</div>
	<script th:inline="javascript">
    /*<![CDATA[*/
    toastr.options = {
        "closeButton": true,
        "debug": false,
        "newestOnTop": true,
        "progressBar": true,
        "positionClass": "toast-top-center",
        "preventDuplicates": true,
        "timeOut": "5000", // 10 seconds
        "extendedTimeOut": "1000"
    };

    let successMessage = /*[[${successMessage}]]*/ '';
 	let errorMessage = '';

    if (successMessage) {
        toastr.success(successMessage);
    }
    if (errorMessage) {
        toastr.error(errorMessage);
    }

 
</script>
</body>
</html>
